import 'package:flutter/material.dart';
import '../../../../core/theme/design_system.dart';
import '../../../../core/ui/design_tokens.dart';

enum LegalType { terms, privacy }

class LegalScreen extends StatelessWidget {
  final LegalType type;

  const LegalScreen({super.key, required this.type});

  String get _title =>
      type == LegalType.terms ? 'شروط الاستخدام' : 'سياسة الخصوصية';

  String get _content {
    if (type == LegalType.terms) {
      return '''
1. **المقدمة**: مرحباً بكم في تطبيق ميثاق. باستخدامك لهذا التطبيق، فإنك توافق على الالتزام بشروط الاستخدام التالية.

2. **الأهلية**: يجب أن يكون عمرك 18 عاماً على الأقل لاستخدام هذا التطبيق. يجب أن تكون البيانات المقدمة دقيقة وصحيحة.

3. **السلوك**: يُمنع استخدام التطبيق لأي أغراض غير قانونية أو مسيئة. يجب احترام خصوصية الآخرين وعدم مضايقتهم.

4. **الملكية الفكرية**: جميع الحقوق محفوظة لتطبيق ميثاق. لا يجوز نسخ أو استنساخ أي جزء من التطبيق دون إذن.

5. **الإلغاء**: يحق لإدارة ميثاق إيقاف حسابك في حال انتهاك الشروط.

6. **التعديلات**: نحتفظ بالحق في تعديل هذه الشروط في أي وقت. سيتم إشعار المستخدمين بالتغييرات الجوهرية.
      ''';
    } else {
      return '''
**مقدمة في الخصوصية**
في ميثاق، نعتبر خصوصيتك وأمان عائلتك أولوية قصوى. تم تصميم سياساتنا لتتوافق مع القيم الإسلامية والأنظمة المحلية لحماية البيانات.

**1. البيانات التي نجمعها**
- **المعلومات الشخصية**: الاسم، العمر، المدينة، والبيانات الضرورية للمطابقة.
- **بيانات ولي الأمر**: معلومات الاتصال والتحقق من الهوية لضمان الجدية.
- **التفضيلات**: المعايير الدقيقة التي تبحث عنها في شريك الحياة.

**2. خصوصية الصور (الشوفة الشرعية)**
- صورك الشخصية مشفرة ومحمية بتقنيات عالية.
- لا تظهر الصور في نتائج البحث العامة نهائياً.
- "بطاقة الشوفة" تظهر فقط للأشخاص الذين توافق عليهم مسبقاً، وفقط لمدة محدودة ضمن جلسة آمنة.

**3. دور ولي الأمر**
- يتم إدارة حسابات التابعين (الأبناء/البنات) تحت إشراف ولي الأمر.
- التواصل الأولي يتم دائماً من خلال ولي الأمر لضمان الحماية والجدية.

**4. مشاركة البيانات**
- لا نبيع بياناتك لأي أطراف ثالثة.
- تتم مشاركة بيانات "بروفايل المطابقة" (بدون معلومات الاتصال المباشرة) مع المستخدمين الآخرين لغرض التوفيق فقط.

**5. أمن المعلومات**
نستخدم أحدث بروتوكولات التشفير لحماية بياناتك أثناء النقل والتخزين.

**6. حقوقك**
يحق لك في أي وقت:
- الاطلاع على بياناتك.
- تعديل أو تصحيح المعلومات.
- حذف حسابك وبياناتك نهائياً من خلال الإعدادات.

**تحديثات السياسة**
قد نقوم بتحديث هذه السياسة لتعكس تغييرات تنظيمية أو تحسينات في التطبيق. سيتم إشعارك بأي تغييرات جوهرية.
      ''';
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.white,
      appBar: AppBar(
        title: Text(_title),
        centerTitle: true,
        backgroundColor: Colors.white,
        elevation: 0,
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(MithaqSpacing.m),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              _content,
              style: const TextStyle(
                fontSize: 16,
                height: 1.8,
                color: MithaqColors.navy,
              ),
            ),
          ],
        ),
      ),
    );
  }
}
